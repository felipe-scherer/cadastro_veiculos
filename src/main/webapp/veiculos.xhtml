<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head></h:head> 
<body> 



<h1>Cadastro de Veículos</h1>

<h:form id="formVeiculo" enctype="multipart/form-data">

Modelo: <h:inputText value="#{veiculosController.veiculo.modelo}"></h:inputText>
Ano: <h:inputText value="#{veiculosController.veiculo.ano}"></h:inputText>
Fabricante: <h:inputText value="#{veiculosController.veiculo.fabricante}"></h:inputText>
Foto: <h:inputFile  required="true" requiredMessage="Necessário selecionar uma foto" id="arquivo" value="#{veiculosController.fotografia}"></h:inputFile>
<h:commandButton action="#{veiculosController.salvar}" value="Salvar">
<br/></h:commandButton>
<h:message for="arquivo" />

<input type="hidden"
	name="${_csrf.parameterName}"
	value="${_csrf.token}"/>
</h:form>

<h:form>
<h:dataTable value="#{veiculosController.veiculos}" var="v" id="dtVeiculos">

	<h:column><f:facet name="header">ID</f:facet> #{v.id}</h:column>
	<h:column><f:facet name="header">Modelo</f:facet> #{v.modelo}</h:column>
	<h:column><f:facet name="header">Ano</f:facet>#{v.ano}</h:column>
	<h:column><f:facet name="header">Fabricante</f:facet>#{v.fabricante}</h:column>
		<h:column><f:facet name="header">Foto</f:facet>#{v.nome_foto}</h:column>
	
	<h:column><f:facet name="header">Ação</f:facet> 
	<h:commandButton action="#{veiculosController.excluir(v)}" onclick="return window.confirm('Deseja realmente excluir?')" value="Excluir"></h:commandButton> 
	<h:commandButton action="#{veiculosController.editar(v)}" value="Editar"></h:commandButton>
	<h:commandButton action="#{veiculosController.download(v)}" value="Download Foto"></h:commandButton>
	</h:column>

</h:dataTable>

<input type="hidden"
	name="${_csrf.parameterName}"
	value="${_csrf.token}"/>
</h:form>



</body> 
</html>
